{"ast":null,"code":"// frontend/src/services/auth.js\nimport axios from 'axios';\nconst BASE_URL = 'http://localhost:5000/api';\nexport const login = async (username, password) => {\n  const response = await axios.post(`${BASE_URL}/${username === 'admin' ? 'admin' : 'user'}/login`, {\n    username,\n    password\n  });\n  localStorage.setItem('token', response.data.token);\n};\nexport const register = async (email, password, inviteCode) => {\n  await axios.post(`${BASE_URL}/user/register`, {\n    email,\n    password,\n    inviteCode\n  });\n};\nexport const getUsers = async token => {\n  const response = await axios.get(`${BASE_URL}/user`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data;\n};\nexport const deleteUser = async (userId, token) => {\n  await axios.delete(`${BASE_URL}/user/${userId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const getUserDetails = async token => {\n  const response = await axios.get(`${BASE_URL}/user/details`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data;\n};\n\n// Bonus level: Invite Link generator service\nexport const generateInviteLink = async () => {\n  const response = await axios.post(`${BASE_URL}/invite/generate`);\n  return response.data;\n};","map":{"version":3,"names":["axios","BASE_URL","login","username","password","response","post","localStorage","setItem","data","token","register","email","inviteCode","getUsers","get","headers","Authorization","deleteUser","userId","delete","getUserDetails","generateInviteLink"],"sources":["/home/beneathatree/hva_task/frontend/src/services/auth.js"],"sourcesContent":["// frontend/src/services/auth.js\nimport axios from 'axios';\n\nconst BASE_URL = 'http://localhost:5000/api';\n\nexport const login = async (username, password) => {\n  const response = await axios.post(`${BASE_URL}/${username === 'admin' ? 'admin' : 'user'}/login`, {\n    username,\n    password,\n  });\n  localStorage.setItem('token', response.data.token);\n};\n\nexport const register = async (email, password, inviteCode) => {\n  await axios.post(`${BASE_URL}/user/register`, { email, password, inviteCode });\n};\n\nexport const getUsers = async (token) => {\n  const response = await axios.get(`${BASE_URL}/user`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  return response.data;\n};\n\nexport const deleteUser = async (userId, token) => {\n  await axios.delete(`${BASE_URL}/user/${userId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n};\n\nexport const getUserDetails = async (token) => {\n  const response = await axios.get(`${BASE_URL}/user/details`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  return response.data;\n};\n\n// Bonus level: Invite Link generator service\nexport const generateInviteLink = async () => {\n  const response = await axios.post(`${BASE_URL}/invite/generate`);\n  return response.data;\n};\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,2BAA2B;AAE5C,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACjD,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAE,GAAEL,QAAS,IAAGE,QAAQ,KAAK,OAAO,GAAG,OAAO,GAAG,MAAO,QAAO,EAAE;IAChGA,QAAQ;IACRC;EACF,CAAC,CAAC;EACFG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,IAAI,CAACC,KAAK,CAAC;AACpD,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,KAAK,EAAER,QAAQ,EAAES,UAAU,KAAK;EAC7D,MAAMb,KAAK,CAACM,IAAI,CAAE,GAAEL,QAAS,gBAAe,EAAE;IAAEW,KAAK;IAAER,QAAQ;IAAES;EAAW,CAAC,CAAC;AAChF,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAOJ,KAAK,IAAK;EACvC,MAAML,QAAQ,GAAG,MAAML,KAAK,CAACe,GAAG,CAAE,GAAEd,QAAS,OAAM,EAAE;IACnDe,OAAO,EAAE;MACPC,aAAa,EAAG,UAASP,KAAM;IACjC;EACF,CAAC,CAAC;EACF,OAAOL,QAAQ,CAACI,IAAI;AACtB,CAAC;AAED,OAAO,MAAMS,UAAU,GAAG,MAAAA,CAAOC,MAAM,EAAET,KAAK,KAAK;EACjD,MAAMV,KAAK,CAACoB,MAAM,CAAE,GAAEnB,QAAS,SAAQkB,MAAO,EAAC,EAAE;IAC/CH,OAAO,EAAE;MACPC,aAAa,EAAG,UAASP,KAAM;IACjC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMW,cAAc,GAAG,MAAOX,KAAK,IAAK;EAC7C,MAAML,QAAQ,GAAG,MAAML,KAAK,CAACe,GAAG,CAAE,GAAEd,QAAS,eAAc,EAAE;IAC3De,OAAO,EAAE;MACPC,aAAa,EAAG,UAASP,KAAM;IACjC;EACF,CAAC,CAAC;EACF,OAAOL,QAAQ,CAACI,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMa,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC5C,MAAMjB,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAE,GAAEL,QAAS,kBAAiB,CAAC;EAChE,OAAOI,QAAQ,CAACI,IAAI;AACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}